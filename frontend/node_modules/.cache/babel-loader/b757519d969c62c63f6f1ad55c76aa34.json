{"remainingRequest":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\SSAFY\\webmobile-sub2\\frontend\\src\\services\\FirebaseService.js","dependencies":[{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\src\\services\\FirebaseService.js","mtime":1563518254075},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1563870748243},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1563870747768}],"contextDependencies":[],"result":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nvar POSTS = \"posts\";\nvar PORTFOLIOS = \"portfolios\"; // Setup Firebase\n\nvar config = {\n  projectId: \"webmobile-f08a4\",\n  authDomain: \"webmobile-f08a4.firebaseapp.com\",\n  apiKey: \"AIzaSyCYZ31KO8mTVKstx0wODkNVQ_FLSDA_USk\",\n  databaseURL: \"https://webmobile-f08a4.firebaseio.com\",\n  storageBucket: \"webmobile-f08a4.appspot.com\",\n  messagingSenderId: \"771916903533\",\n  appId: \"1:771916903533:web:7c49487dac48829b\"\n};\nfirebase.initializeApp(config);\nvar firestore = firebase.firestore();\nexport default {\n  getPosts: function getPosts() {\n    var postsCollection = firestore.collection(POSTS);\n    return postsCollection.orderBy(\"created_at\", \"desc\").get().then(function (docSnapshots) {\n      return docSnapshots.docs.map(function (doc) {\n        var data = doc.data();\n        data.created_at = new Date(data.created_at.toDate());\n        return data;\n      });\n    });\n  },\n  postPost: function postPost(title, body) {\n    return firestore.collection(POSTS).add({\n      title: title,\n      body: body,\n      created_at: firebase.firestore.FieldValue.serverTimestamp()\n    });\n  },\n  getPortfolios: function getPortfolios() {\n    var postsCollection = firestore.collection(PORTFOLIOS);\n    return postsCollection.orderBy(\"created_at\", \"desc\").get().then(function (docSnapshots) {\n      return docSnapshots.docs.map(function (doc) {\n        var data = doc.data();\n        data.created_at = new Date(data.created_at.toDate());\n        return data;\n      });\n    });\n  },\n  postPortfolio: function postPortfolio(title, body, img) {\n    return firestore.collection(PORTFOLIOS).add({\n      title: title,\n      body: body,\n      img: img,\n      created_at: firebase.firestore.FieldValue.serverTimestamp()\n    });\n  },\n  loginWithGoogle: function loginWithGoogle() {\n    var provider = new firebase.auth.GoogleAuthProvider();\n    console.log(provider);\n    return firebase.auth().signInWithPopup(provider).then(function (result) {\n      var accessToken = result.credential.accessToken;\n      console.log(accessToken);\n      var user = result.user;\n      console.log(user);\n      return result;\n    }).catch(function (error) {\n      console.error(\"[Google Login Error]\", error);\n    });\n  },\n  loginWithFacebook: function loginWithFacebook() {\n    var provider = new firebase.auth.FacebookAuthProvider();\n    return firebase.auth().signInWithPopup(provider).then(function (result) {\n      var accessToken = result.credential.accessToken;\n      var user = result.user;\n      return result;\n    }).catch(function (error) {\n      console.error('[Facebook Login Error]', error);\n    });\n  }\n};",{"version":3,"sources":["D:\\SSAFY\\webmobile-sub2\\frontend\\src\\services\\FirebaseService.js"],"names":["firebase","POSTS","PORTFOLIOS","config","projectId","authDomain","apiKey","databaseURL","storageBucket","messagingSenderId","appId","initializeApp","firestore","getPosts","postsCollection","collection","orderBy","get","then","docSnapshots","docs","map","doc","data","created_at","Date","toDate","postPost","title","body","add","FieldValue","serverTimestamp","getPortfolios","postPortfolio","img","loginWithGoogle","provider","auth","GoogleAuthProvider","console","log","signInWithPopup","result","accessToken","credential","user","catch","error","loginWithFacebook","FacebookAuthProvider"],"mappings":"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","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nconst POSTS = \"posts\";\r\nconst PORTFOLIOS = \"portfolios\";\r\n\r\n// Setup Firebase\r\nconst config = {\r\n  projectId: \"webmobile-f08a4\",\r\n     authDomain: \"webmobile-f08a4.firebaseapp.com\",\r\n     apiKey: \"AIzaSyCYZ31KO8mTVKstx0wODkNVQ_FLSDA_USk\",\r\n     databaseURL: \"https://webmobile-f08a4.firebaseio.com\",\r\n     storageBucket: \"webmobile-f08a4.appspot.com\",\r\n     messagingSenderId: \"771916903533\",\r\n     appId: \"1:771916903533:web:7c49487dac48829b\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\nconst firestore = firebase.firestore();\r\n\r\nexport default {\r\n    getPosts() {\r\n        const postsCollection = firestore.collection(POSTS);\r\n        return postsCollection\r\n            .orderBy(\"created_at\", \"desc\")\r\n            .get()\r\n            .then(docSnapshots => {\r\n                return docSnapshots.docs.map(doc => {\r\n                    let data = doc.data();\r\n                    data.created_at = new Date(data.created_at.toDate());\r\n                    return data;\r\n                });\r\n            });\r\n    },\r\n    postPost(title, body) {\r\n        return firestore.collection(POSTS).add({\r\n            title,\r\n            body,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n    },\r\n    getPortfolios() {\r\n        const postsCollection = firestore.collection(PORTFOLIOS);\r\n        return postsCollection\r\n            .orderBy(\"created_at\", \"desc\")\r\n            .get()\r\n            .then(docSnapshots => {\r\n                return docSnapshots.docs.map(doc => {\r\n                    let data = doc.data();\r\n                    data.created_at = new Date(data.created_at.toDate());\r\n                    return data;\r\n                });\r\n            });\r\n    },\r\n    postPortfolio(title, body, img) {\r\n        return firestore.collection(PORTFOLIOS).add({\r\n            title,\r\n            body,\r\n            img,\r\n            created_at: firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n    },\r\n    loginWithGoogle() {\r\n        let provider = new firebase.auth.GoogleAuthProvider();\r\n        console.log(provider);\r\n        return firebase\r\n            .auth()\r\n            .signInWithPopup(provider)\r\n            .then(function(result) {\r\n                let accessToken = result.credential.accessToken;\r\n    console.log(accessToken);\r\n                let user = result.user;\r\n    console.log(user);\r\n                return result;\r\n            })\r\n            .catch(function(error) {\r\n                console.error(\"[Google Login Error]\", error);\r\n            });\r\n    },\r\n    loginWithFacebook() {\r\n        let provider = new firebase.auth.FacebookAuthProvider()\r\n        return firebase.auth().signInWithPopup(provider).then(function(result) {\r\n            let accessToken = result.credential.accessToken;\r\n            let user = result.user;\r\n            return result\r\n        }).catch(function(error) {\r\n            console.error('[Facebook Login Error]', error)\r\n        });\r\n    },\r\n};\r\n"]}]}