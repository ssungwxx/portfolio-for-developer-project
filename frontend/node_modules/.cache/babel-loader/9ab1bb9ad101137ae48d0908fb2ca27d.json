{"remainingRequest":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\SSAFY\\webmobile-sub2\\frontend\\src\\image.js","dependencies":[{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\src\\image.js","mtime":1563417443234},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.string.link\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\SSAFY\\\\webmobile-sub2\\\\frontend\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport qs from \"qs\";\nimport Unsplash from \"unsplash-js\";\nvar queryString = {\n  client_id: \"24321b230a75815\",\n  response_type: \"token\"\n};\nvar ClientId = \"7c08f904a84425ce56207b5d9c829f1b03bbb142292b245d63046f2b974269ca\";\nvar unsplash = new Unsplash({\n  applicationId: ClientId\n});\nexport default {\n  randomPhoto: function () {\n    var _randomPhoto = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var ret;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              ret = [];\n              _context.next = 3;\n              return unsplash.photos.getRandomPhoto({\n                width: 1000,\n                height: 1000\n              }).then(function (toJson) {\n                return toJson.url + \"&client_id=\" + ClientId;\n              }).then(function (imgurl) {\n                return axios.get(imgurl).then(function (res) {\n                  ret.push(res.data.alt_description);\n                  ret.push(URL = res.data.urls.custom);\n                });\n              });\n\n            case 3:\n              return _context.abrupt(\"return\", ret);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function randomPhoto() {\n      return _randomPhoto.apply(this, arguments);\n    }\n\n    return randomPhoto;\n  }(),\n  uploadImageByImgur: function () {\n    var _uploadImageByImgur = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2(file) {\n      var form, ret, URL;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              form = new FormData();\n              form.append(\"image\", file);\n              ret = \"\";\n              URL = \"https://api.imgur.com/3/image\";\n              _context2.next = 6;\n              return axios.post(URL, form, {\n                headers: {\n                  Authorization: \"Bearer 84a29a6a9b36e0eed1e745b25d6a89a4f7c07ca0\"\n                }\n              }).then(function (res) {\n                return ret = res.data.data.link;\n              });\n\n            case 6:\n              return _context2.abrupt(\"return\", ret);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function uploadImageByImgur(_x) {\n      return _uploadImageByImgur.apply(this, arguments);\n    }\n\n    return uploadImageByImgur;\n  }(),\n  imgupload: function () {\n    var _imgupload = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee3() {\n      var inputImg, file, ret;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              // const hash = `https://api.imgur.com/oauth2/authorize?${qs.stringify(queryString)}`;\n              // console.log(hash)\n              // return\n              inputImg = document.querySelector(\"#imgup\");\n\n              if (!(inputImg.files.length === 1)) {\n                _context3.next = 7;\n                break;\n              }\n\n              file = inputImg.files[0];\n              _context3.next = 5;\n              return this.uploadImageByImgur(file);\n\n            case 5:\n              ret = _context3.sent;\n              return _context3.abrupt(\"return\", ret);\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function imgupload() {\n      return _imgupload.apply(this, arguments);\n    }\n\n    return imgupload;\n  }()\n};",{"version":3,"sources":["D:\\SSAFY\\webmobile-sub2\\frontend\\src\\image.js"],"names":["qs","Unsplash","queryString","client_id","response_type","ClientId","unsplash","applicationId","randomPhoto","ret","photos","getRandomPhoto","width","height","then","toJson","url","imgurl","axios","get","res","push","data","alt_description","URL","urls","custom","uploadImageByImgur","file","form","FormData","append","post","headers","Authorization","link","imgupload","inputImg","document","querySelector","files","length"],"mappings":";;;AAAA,OAAOA,EAAP,MAAe,IAAf;AACA,OAAOC,QAAP,MAAqB,aAArB;AAEA,IAAMC,WAAW,GAAG;AAChBC,EAAAA,SAAS,EAAE,iBADK;AAEhBC,EAAAA,aAAa,EAAE;AAFC,CAApB;AAKA,IAAMC,QAAQ,GACV,kEADJ;AAEA,IAAMC,QAAQ,GAAG,IAAIL,QAAJ,CAAa;AAC1BM,EAAAA,aAAa,EAAEF;AADW,CAAb,CAAjB;AAIA,eAAe;AACLG,EAAAA,WADK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEHC,cAAAA,GAFG,GAEG,EAFH;AAAA;AAAA,qBAGDH,QAAQ,CAACI,MAAT,CACDC,cADC,CACc;AAAEC,gBAAAA,KAAK,EAAE,IAAT;AAAeC,gBAAAA,MAAM,EAAE;AAAvB,eADd,EAEDC,IAFC,CAEI,UAASC,MAAT,EAAiB;AACnB,uBAAOA,MAAM,CAACC,GAAP,GAAa,aAAb,GAA6BX,QAApC;AACH,eAJC,EAKDS,IALC,CAKI,UAAAG,MAAM;AAAA,uBACRC,KAAK,CAACC,GAAN,CAAUF,MAAV,EAAkBH,IAAlB,CAAuB,UAAAM,GAAG,EAAI;AAC1BX,kBAAAA,GAAG,CAACY,IAAJ,CAASD,GAAG,CAACE,IAAJ,CAASC,eAAlB;AACAd,kBAAAA,GAAG,CAACY,IAAJ,CAAUG,GAAG,GAAGJ,GAAG,CAACE,IAAJ,CAASG,IAAT,CAAcC,MAA9B;AACH,iBAHD,CADQ;AAAA,eALV,CAHC;;AAAA;AAAA,+CAcAjB,GAdA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAiBLkB,EAAAA,kBAjBK;AAAA;AAAA;AAAA,8CAiBcC,IAjBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBDC,cAAAA,IAlBC,GAkBM,IAAIC,QAAJ,EAlBN;AAmBPD,cAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBH,IAArB;AACInB,cAAAA,GApBG,GAoBG,EApBH;AAqBDe,cAAAA,GArBC,GAqBK,+BArBL;AAAA;AAAA,qBAsBDN,KAAK,CACNc,IADC,CACIR,GADJ,EACSK,IADT,EACe;AACbI,gBAAAA,OAAO,EAAE;AACLC,kBAAAA,aAAa,EACT;AAFC;AADI,eADf,EAODpB,IAPC,CAOI,UAAAM,GAAG;AAAA,uBAAKX,GAAG,GAAGW,GAAG,CAACE,IAAJ,CAASA,IAAT,CAAca,IAAzB;AAAA,eAPP,CAtBC;;AAAA;AAAA,gDA8BA1B,GA9BA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgCL2B,EAAAA,SAhCK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCP;AACA;AACA;AAEMC,cAAAA,QAtCC,GAsCUC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAtCV;;AAAA,oBAuCHF,QAAQ,CAACG,KAAT,CAAeC,MAAf,KAA0B,CAvCvB;AAAA;AAAA;AAAA;;AAwCGb,cAAAA,IAxCH,GAwCUS,QAAQ,CAACG,KAAT,CAAe,CAAf,CAxCV;AAAA;AAAA,qBAyCe,KAAKb,kBAAL,CAAwBC,IAAxB,CAzCf;;AAAA;AAyCGnB,cAAAA,GAzCH;AAAA,gDA0CIA,GA1CJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,CAAf","sourcesContent":["import qs from \"qs\";\r\nimport Unsplash from \"unsplash-js\";\r\n\r\nconst queryString = {\r\n    client_id: \"24321b230a75815\",\r\n    response_type: \"token\"\r\n};\r\n\r\nconst ClientId =\r\n    \"7c08f904a84425ce56207b5d9c829f1b03bbb142292b245d63046f2b974269ca\";\r\nconst unsplash = new Unsplash({\r\n    applicationId: ClientId\r\n});\r\n\r\nexport default {\r\n    async randomPhoto() {\r\n        let ret = [];\r\n        await unsplash.photos\r\n            .getRandomPhoto({ width: 1000, height: 1000 })\r\n            .then(function(toJson) {\r\n                return toJson.url + \"&client_id=\" + ClientId;\r\n            })\r\n            .then(imgurl =>\r\n                axios.get(imgurl).then(res => {\r\n                    ret.push(res.data.alt_description);\r\n                    ret.push((URL = res.data.urls.custom));\r\n                })\r\n            );\r\n        return ret;\r\n    },\r\n\r\n    async uploadImageByImgur(file) {\r\n        const form = new FormData();\r\n        form.append(\"image\", file);\r\n        let ret = \"\";\r\n        const URL = \"https://api.imgur.com/3/image\";\r\n        await axios\r\n            .post(URL, form, {\r\n                headers: {\r\n                    Authorization:\r\n                        \"Bearer 84a29a6a9b36e0eed1e745b25d6a89a4f7c07ca0\"\r\n                }\r\n            })\r\n            .then(res => (ret = res.data.data.link));\r\n        return ret;\r\n    },\r\n    async imgupload() {\r\n\r\n        // const hash = `https://api.imgur.com/oauth2/authorize?${qs.stringify(queryString)}`;\r\n        // console.log(hash)\r\n        // return\r\n\r\n        const inputImg = document.querySelector(\"#imgup\");\r\n        if (inputImg.files.length === 1) {\r\n            const file = inputImg.files[0];\r\n            const ret = await this.uploadImageByImgur(file)\r\n            return ret\r\n            }\r\n        }\r\n    }"]}]}