{"remainingRequest":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SSAFY\\webmobile-sub2\\frontend\\src\\components\\graph.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\src\\components\\graph.vue","mtime":1563427041703},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Vue from \"vue\";\nimport GitlabService from '@/services/GitlabService'\nimport {ChartPlugin, LineSeries, Category, DataLabel, Tooltip} from \"@syncfusion/ej2-vue-charts\";\n\nVue.use(ChartPlugin);\n\nconst gradients = [\n    ['#1feaea', '#ffd200', '#f72047']\n];\n\nexport default {\n    name: 'Repository',\n    props: {\n        member: {\n            type: Object,\n            default: function () {\n                return {\n                    name: \"로딩중\",\n                    web_url: \"lab.ssafy.com\",\n                    todayDate: 0,\n                }\n            }\n        },\n    },\n    data() {\n        return {\n            numberPush: 0,\n            pushMessage: \"아직 Push 하지 않았습니다.\",\n            stats: {},\n            labels: [\n                '7/8',\n                '7/9',\n                '7/10',\n                '7/11',\n                '7/12',\n                '7/13',\n                '7/14',\n                '7/15',\n                '7/16',\n                '7/17',\n                '7/18',\n                '7/19',\n            ],\n            valueall: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            allCommits: 0,\n            radius: 5,\n            gradient: gradients[0],\n            lineCap: 'round',\n            seriesData: [\n                {date: '7/8', counts: 0}, {date: '7/9', counts: 0},\n                {date: '7/10', counts: 0}, {date: '7/11', counts: 0},\n                {date: '7/12', counts: 0}, {date: '7/13', counts: 0},\n                {date: '7/14', counts: 0}, {date: '7/15', counts: 0},\n                {date: '7/16', counts: 0}, {date: '7/17', counts: 0},\n                {date: '7/18', counts: 0}, {date: '7/19', counts: 0}\n            ],\n            primaryXAxis: {\n                valueType: 'Category'\n            },\n            primaryYAxis: {\n                labelFormat: '{value}회'\n            },\n            legendSettings: {\n                visible: true\n            },\n            marker: {\n                dataLabel: {\n                    visible: true\n                }\n            },\n            tooltip: {enable: true},\n            title: \"Gitlab Repository Graph\",\n        }\n    },\n    mounted() {\n        const today = new Date();\n        this.todayDate = String(today.getDate()).padStart(2, '0');\n        this.setCommit();\n    },\n    methods: {\n        commitToValue(oneData) {\n            // let authorId = oneData.author_id\n            const new_value = this.valueall.slice()\n            const gitrepoDay = parseInt(oneData.created_at.slice(8, 10));\n            if (gitrepoDay === parseInt(this.todayDate) && oneData.action_name === \"pushed to\") {\n                this.numberPush += 1;\n                this.pushMessage = `오늘 ${this.numberPush}번 push했습니다.`\n            }\n            if (new_value[gitrepoDay - 8] < 10) {\n                new_value[gitrepoDay - 8] += 1;\n            }\n            this.valueall = new_value;\n        },\n        commitToVuex(severalData) {\n            severalData.data.forEach(this.commitToValue);\n            for (let i = 0; this.valueall.length > i; i++) {\n                this.seriesData[i].counts = this.valueall[i];\n            }\n        },\n        async setCommit() {\n            const result = await GitlabService.getCommits(this.member.id);\n            // this.allCommits = result.data.length\n            // console.log(result.data)\n            for (const rdata of result.data) {\n                // console.log(rdata);\n                if (rdata.action_name === \"pushed to\") {\n                    this.allCommits += 1;\n                }\n            }\n            // console.log(result.data)\n            this.commitToVuex(result)\n        }\n    },\n    provide: {\n        chart: [LineSeries, Category, DataLabel, Tooltip]\n    }\n}\n",{"version":3,"sources":["graph.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"graph.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"py-3\">\r\n        <v-layout row wrap>\r\n            <v-flex xl3 lg3 md3 sm3 xs3>\r\n                <v-flex text-xs-left>\r\n                    <h2 class=\"font-weight-regular headline_truncate\">{{member.name}}</h2>\r\n                    <p class=\"subheading mb-1 grey--text text--darken-1\r\n             font-weight-light\">Point : {{allCommits}}</p>\r\n                </v-flex>\r\n                <v-flex text-xs-left>\r\n                    <v-btn :href=\"member.web_url\" small flat icon outline>\r\n                        <v-icon small>fa-arrow-right</v-icon>\r\n                    </v-btn>\r\n                </v-flex>\r\n                <p>{{pushMessage}}</p>\r\n            </v-flex>\r\n            <!--            <v-flex xl8 lg8 md8 sm8 hidden-xs-only>-->\r\n            <!--                <v-sheet-->\r\n            <!--                        class=\"v-sheet&#45;&#45;offset mx-auto\"-->\r\n            <!--                        color=\"grey lighten-5\"-->\r\n            <!--                        elevation=\"12\"-->\r\n            <!--                        max-width=\"calc(100% - 32px)\"-->\r\n            <!--                        height=\"60%\"-->\r\n            <!--                >-->\r\n            <!--                    <v-sparkline-->\r\n            <!--                            :labels=\"labels\"-->\r\n            <!--                            :value=\"valueall\"-->\r\n            <!--                            :smooth=\"radius || false\"-->\r\n            <!--                            :stroke-linecap=\"lineCap\"-->\r\n            <!--                            :gradient=\"gradient\"-->\r\n            <!--                            color=\"grey\"-->\r\n            <!--                            line-width=\"2\"-->\r\n            <!--                            padding=\"16\"-->\r\n            <!--                            auto-draw-->\r\n\r\n            <!--                            class=\"zoom\"-->\r\n            <!--                    ></v-sparkline>-->\r\n            <!--                </v-sheet>-->\r\n            <!--            </v-flex>-->\r\n            <ejs-chart id=\"container\" :title='title' :primaryXAxis='primaryXAxis' :primaryYAxis='primaryYAxis'\r\n                       :tooltip='tooltip'>\r\n                <e-series-collection>\r\n                    <e-series :dataSource='seriesData' type='Line' xName='date' yName='counts' name='Sales'\r\n                              :marker='marker'></e-series>\r\n                </e-series-collection>\r\n            </ejs-chart>\r\n        </v-layout>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Vue from \"vue\";\r\n    import GitlabService from '@/services/GitlabService'\r\n    import {ChartPlugin, LineSeries, Category, DataLabel, Tooltip} from \"@syncfusion/ej2-vue-charts\";\r\n\r\n    Vue.use(ChartPlugin);\r\n\r\n    const gradients = [\r\n        ['#1feaea', '#ffd200', '#f72047']\r\n    ];\r\n\r\n    export default {\r\n        name: 'Repository',\r\n        props: {\r\n            member: {\r\n                type: Object,\r\n                default: function () {\r\n                    return {\r\n                        name: \"로딩중\",\r\n                        web_url: \"lab.ssafy.com\",\r\n                        todayDate: 0,\r\n                    }\r\n                }\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                numberPush: 0,\r\n                pushMessage: \"아직 Push 하지 않았습니다.\",\r\n                stats: {},\r\n                labels: [\r\n                    '7/8',\r\n                    '7/9',\r\n                    '7/10',\r\n                    '7/11',\r\n                    '7/12',\r\n                    '7/13',\r\n                    '7/14',\r\n                    '7/15',\r\n                    '7/16',\r\n                    '7/17',\r\n                    '7/18',\r\n                    '7/19',\r\n                ],\r\n                valueall: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n                allCommits: 0,\r\n                radius: 5,\r\n                gradient: gradients[0],\r\n                lineCap: 'round',\r\n                seriesData: [\r\n                    {date: '7/8', counts: 0}, {date: '7/9', counts: 0},\r\n                    {date: '7/10', counts: 0}, {date: '7/11', counts: 0},\r\n                    {date: '7/12', counts: 0}, {date: '7/13', counts: 0},\r\n                    {date: '7/14', counts: 0}, {date: '7/15', counts: 0},\r\n                    {date: '7/16', counts: 0}, {date: '7/17', counts: 0},\r\n                    {date: '7/18', counts: 0}, {date: '7/19', counts: 0}\r\n                ],\r\n                primaryXAxis: {\r\n                    valueType: 'Category'\r\n                },\r\n                primaryYAxis: {\r\n                    labelFormat: '{value}회'\r\n                },\r\n                legendSettings: {\r\n                    visible: true\r\n                },\r\n                marker: {\r\n                    dataLabel: {\r\n                        visible: true\r\n                    }\r\n                },\r\n                tooltip: {enable: true},\r\n                title: \"Gitlab Repository Graph\",\r\n            }\r\n        },\r\n        mounted() {\r\n            const today = new Date();\r\n            this.todayDate = String(today.getDate()).padStart(2, '0');\r\n            this.setCommit();\r\n        },\r\n        methods: {\r\n            commitToValue(oneData) {\r\n                // let authorId = oneData.author_id\r\n                const new_value = this.valueall.slice()\r\n                const gitrepoDay = parseInt(oneData.created_at.slice(8, 10));\r\n                if (gitrepoDay === parseInt(this.todayDate) && oneData.action_name === \"pushed to\") {\r\n                    this.numberPush += 1;\r\n                    this.pushMessage = `오늘 ${this.numberPush}번 push했습니다.`\r\n                }\r\n                if (new_value[gitrepoDay - 8] < 10) {\r\n                    new_value[gitrepoDay - 8] += 1;\r\n                }\r\n                this.valueall = new_value;\r\n            },\r\n            commitToVuex(severalData) {\r\n                severalData.data.forEach(this.commitToValue);\r\n                for (let i = 0; this.valueall.length > i; i++) {\r\n                    this.seriesData[i].counts = this.valueall[i];\r\n                }\r\n            },\r\n            async setCommit() {\r\n                const result = await GitlabService.getCommits(this.member.id);\r\n                // this.allCommits = result.data.length\r\n                // console.log(result.data)\r\n                for (const rdata of result.data) {\r\n                    // console.log(rdata);\r\n                    if (rdata.action_name === \"pushed to\") {\r\n                        this.allCommits += 1;\r\n                    }\r\n                }\r\n                // console.log(result.data)\r\n                this.commitToVuex(result)\r\n            }\r\n        },\r\n        provide: {\r\n            chart: [LineSeries, Category, DataLabel, Tooltip]\r\n        }\r\n    }\r\n</script>\r\n<style>\r\n    .zoom {\r\n        /*zoom: 200%;*/\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .headline_truncate {\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 1;\r\n        -webkit-box-orient: vertical;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .content_truncate {\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 4;\r\n        -webkit-box-orient: vertical;\r\n        overflow: hidden;\r\n    }\r\n</style>\r\n"]}]}