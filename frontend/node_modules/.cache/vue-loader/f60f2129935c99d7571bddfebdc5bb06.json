{"remainingRequest":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SSAFY\\webmobile-sub2\\frontend\\src\\components\\Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\src\\components\\Login.vue","mtime":1563427497748},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\webmobile-sub2\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.headline {\r\n    padding-bottom: 50px;\r\n}\r\n\r\n.modalface {\r\n    padding-left: 10%;\r\n    padding-right: 11%;\r\n    width: 100%;\r\n}\r\n\r\n.form {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <v-layout>\r\n        <v-dialog v-model=\"dialog\" max-width=\"500\">\r\n            <template v-slot:activator=\"{ on }\">\r\n                <v-btn icon v-on=\"on\">\r\n                    <v-icon color=\"white\">perm_identity</v-icon>\r\n                </v-btn>\r\n            </template>\r\n\r\n            <v-card>\r\n                <v-card-title class=\"headline\">Login</v-card-title>\r\n                <div class=\"form\">\r\n                    <v-text-field v-model=\"id\" label=\"ID*\" required></v-text-field>\r\n                    <v-text-field v-model=\"password\" label=\"Password*\" required></v-text-field>\r\n                </div>\r\n                <small>*indicates required field</small>\r\n\r\n                <v-btn round color=\"#df4a31\" dark v-on:click=\"loginWithGoogle\" style=\"width:80%;\">\r\n                    <v-icon size=\"25\" class=\"mr-2\">fa-google</v-icon>Google 로그인\r\n                </v-btn>\r\n                <br />\r\n\r\n                <div class=\"modalface\">\r\n                    <v-facebook-login app-id=\"2340768596039099\" style=\"width:100%;\"></v-facebook-login>\r\n                </div>\r\n\r\n                <br />\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"primary\" dark @click=\"defaultLogin()\">Login</v-btn>\r\n                    <v-btn color=\"green darken-1\" flat @click>Forgot password?</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n    </v-layout>\r\n</template>\r\n\r\n<script>\r\nimport FirebaseService from \"@/services/FirebaseService\";\r\nimport { VFBLogin as VFacebookLogin } from \"vue-facebook-login-component\";\r\nimport RestService from \"@/services/RestService\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            id: \"\",\r\n            password: \"\",\r\n            check: [\r\n                {\r\n                    cnt: \"\"\r\n                }\r\n            ],\r\n            token: {\r\n                token: \"\",\r\n                refresh: \"\"\r\n            }\r\n        };\r\n    },\r\n    beforeMount() {\r\n        this.insertLog();\r\n    },\r\n    components: {\r\n        VFacebookLogin\r\n    },\r\n    methods: {\r\n        async loginWithGoogle() {\r\n            const result = await FirebaseService.loginWithGoogle();\r\n            this.$store.state.accessToken = result.credential.accessToken;\r\n            this.$store.state.user = result.user;\r\n        },\r\n        async insertLog() {\r\n            this.insertLog = await RestService.insertLog(\"LoginPage\");\r\n        },\r\n        async defaultLogin() {\r\n            this.check = await RestService.getUser(this.id);\r\n            if (this.check[0].cnt == 0) {\r\n                alert(\"ID가 존재하지 않습니다.\");\r\n            } else {\r\n                this.token = await RestService.loginUser(\r\n                    this.id,\r\n                    this.password\r\n                );\r\n                if (this.token.token == null) {\r\n                    alert(\"비밀번호를 확인해주세요.\");\r\n                } else {\r\n                    alert(\"로그인 성공!\");\r\n                    this.dialog = false;\r\n                    this.clear_user();\r\n                }\r\n            }\r\n        },\r\n        clear_user() {\r\n            this.id = \"\";\r\n            this.password = \"\";\r\n        }\r\n    },\r\n    mounted() {\r\n        console.log(this.$store.state);\r\n    }\r\n};\r\n</script>\r\n\r\n<style>\r\n.headline {\r\n    padding-bottom: 50px;\r\n}\r\n\r\n.modalface {\r\n    padding-left: 10%;\r\n    padding-right: 11%;\r\n    width: 100%;\r\n}\r\n\r\n.form {\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}\r\n</style>\r\n"]}]}